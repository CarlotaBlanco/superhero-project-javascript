{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["'use strict';\n\nconst inputSearch = document.querySelector('.js-input');\nconst buttonSearch = document.querySelector('.js-button');\nconst resultsList = document.querySelector('.js-listElements');\nconst resetButton = document.querySelector('.js-reset');\nconst favouritesList = document.querySelector('.js-favourites');\n\nlet heroes = [];\nlet favourites = [];\n\nfunction validateInput() {\n  if (inputSearch.value === '') {\n    alert('Debes rellenar todos los campos');\n  } else {\n    getApiData();\n  }\n}\n\nfunction getApiData() {\n  fetch(\n    `https://www.superheroapi.com/api.php/7559222877485453/search/${inputSearch.value}`\n  )\n    .then((response) => response.json())\n    .then((data) => {\n      heroes = data.results;\n      renderResults(heroes);\n    });\n}\nfunction renderResults(heroes) {\n  let html = '';\n  if (heroes === undefined) {\n    html = `nooooo`;\n  } else {\n    for (const heroe of heroes) {\n      html += `<li class=\"js-listresults listresults__item\" id=\"${heroe.id}\">`;\n      html += `<img class=\"listresults__item--img\" src=\"${heroe.image.url}\" alt=\"Superheroe profile pic\"/>`;\n      html += `<p  class=\"listresults__item--name\" >${heroe.name}</p>`;\n      html += `</li>`;\n    }\n  }\n  resultsList.innerHTML = html;\n  cardListener();\n}\nfunction cardListener() {\n  const cardLi = document.querySelectorAll('.js-listresults');\n  for (const card of cardLi) {\n    card.addEventListener('click', addFavourites);\n  }\n}\n\nfunction addFavourites(event) {\n  const idCard = event.currentTarget.id;\n  const favoriteFound = heroes.find((fav) => {\n    return fav.id === idCard;\n  });\n  const favoriteFoundIndex = favourites.findIndex((fav) => {\n    return fav.id === idCard;\n  });\n  if (favoriteFoundIndex === -1) {\n    favourites.push(favoriteFound);\n  } else {\n    favourites.splice(favoriteFoundIndex, 1);\n  }\n  console.log(heroes);\n  console.log(favourites);\n  renderFavourites();\n}\n\nfunction renderFavourites() {\n  let html = '';\n  for (const favourite of favourites) {\n    html += `<li class=\"js-favourite_results listresults__item\" id=\"${favourite.id}\">`;\n    html += `<img class=\"listresults__item--img\" src=\"${favourite.image.url}\" alt=\"Superheroe profile pic\"/>`;\n    html += `<p  class=\"listresults__item--name\" >${favourite.name}</p>`;\n    html += `</li>`;\n  }\n  favouritesList.innerHTML = html;\n  favouritesListener();\n}\n\nfunction favouritesListener() {\n  const favouriteLi = document.querySelectorAll('.js-favourite_results');\n  for (const favourite of favouriteLi) {\n    favourite.addEventListener('click', addFavourites);\n  }\n}\n\nfunction resetResults() {\n  heroes = [];\n  resultsList.innerHTML = '';\n  favouritesList.innerHTML = '';\n  inputSearch.value === '';\n}\n\nfunction handleClickSearch(event) {\n  event.preventDefault();\n  validateInput();\n}\n\nbuttonSearch.addEventListener('click', handleClickSearch);\nresetButton.addEventListener('click', resetResults);\n"]}