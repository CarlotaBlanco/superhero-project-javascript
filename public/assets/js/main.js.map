{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["'use strict';\n\nconst inputSearch = document.querySelector('.js-input');\nconst buttonSearch = document.querySelector('.js-button');\nconst resultsList = document.querySelector('.js-listElements');\nconst resetButton = document.querySelector('.js-reset');\nconst favouriteList = document.querySelector('.js-favourite');\n\nlet heroes = [];\nlet favourite = {};\n\nfunction validateInput() {\n  if (inputSearch.value === '') {\n    alert('Debes rellenar todos los campos');\n  } else {\n    getApiData();\n  }\n}\n\nfunction getApiData() {\n  fetch(\n    `https://www.superheroapi.com/api.php/7559222877485453/search/${inputSearch.value}`\n  )\n    .then((response) => response.json())\n    .then((data) => {\n      heroes = data.results;\n      renderResults();\n    });\n}\n\nfunction renderResults() {\n  let html = '';\n  if (heroes === undefined) {\n    html += `<div class='main__hero'>`;\n    html += `<h4 class='display-6 text-center'>`;\n    html += `<em>¡ERROR! Héroe no encontrado</em>`;\n    html += `</h4>`;\n    html += `</div>`;\n  } else {\n    for (const heroe of heroes) {\n      html += `<div class=\"js-listresults  col-lg-3 col-md-3 col-xs-12\" id=\"${heroe.id}\">`;\n      html += `<div class=\"card card_results\">`;\n      html += `<img class=\"card-img-top\" src=\"${heroe.image.url}\" alt=\"Superheroe profile pic\"/>`;\n      html += `<div class=\"card-body\">`;\n      html += `<p>${heroe.name}</p>`;\n      html += `</div>`;\n      html += `</div>`;\n      html += `</div>`;\n    }\n  }\n  resultsList.innerHTML = html;\n  cardListener();\n}\nfunction cardListener() {\n  const cardLi = document.querySelectorAll('.js-listresults');\n  for (const card of cardLi) {\n    card.addEventListener('click', addfavourite);\n  }\n}\n\nfunction addfavourite(event) {\n  const idCard = event.currentTarget.id;\n  const favouriteFound = heroes.find((fav) => {\n    return fav.id === idCard;\n  });\n  favourite = favouriteFound;\n\n  renderfavourite();\n  renderResults();\n}\n\nfunction renderfavourite() {\n  let html = '';\n\n  if (Object.entries(favourite).length !== 0) {\n    window.scrollTo(0, 0);\n\n    html += `<div class=\"card\">`;\n    html += `<div class=\"row g-0\">`;\n\n    html += `<div class=\"js-favourite_results col-md-4 col-xs-12\" id=\"${favourite.id}\">`;\n\n    html += `<img class=\"card_image\" src=\"${favourite.image.url}\" alt=\"Superheroe profile pic\"/>`;\n    html += `</div>`;\n    html += `<div class=\"col-md-8 col-xs-12 card_info\">`;\n    html += `<h2 class=\"display-5\">${favourite.name}</h2>`;\n    html += `<h5>${favourite.biography['full-name']}</h5>`;\n    html += `<p><em>${favourite.connections['group-affiliation']}</em></p>`;\n    html += `<ul class=\"list-group list-group-flush\">`;\n    html += `<li class=\"list-group-item d-flex justify-content-between align-items-center\">Inteligencia<span class=\"badge rounded-pill text-bg-primary\">${favourite.powerstats.intelligence}</span></li>`;\n    html += `<li class=\"list-group-item d-flex justify-content-between align-items-center\">Fuerza<span class=\"badge rounded-pill text-bg-primary\">${favourite.powerstats.strength}</span></li>`;\n    html += `<li class=\"list-group-item d-flex justify-content-between align-items-center\">Velocidad<span class=\"badge rounded-pill text-bg-primary\">${favourite.powerstats.speed}</span></li>`;\n    html += `<li class=\"list-group-item d-flex justify-content-between align-items-center\">Durabilidad<span class=\"badge rounded-pill text-bg-primary\">${favourite.powerstats.durability}</span></li>`;\n    html += `<li class=\"list-group-item d-flex justify-content-between align-items-center\">Poder<span class=\"badge rounded-pill text-bg-primary\">${favourite.powerstats.power}</span></li>`;\n    html += `<li class=\"list-group-item d-flex justify-content-between align-items-center\">Combate<span class=\"badge rounded-pill text-bg-primary\">${favourite.powerstats.combat}</span></li>`;\n    html += `</ul>`;\n    html += `<button type=\"button\" class=\"btn btn-primary button_close js_button_close\">Cerrar</button>`;\n    html += `</div>`;\n    html += `</div>`;\n    html += `</div>`;\n  }\n\n  favouriteList.innerHTML = html;\n\n  buttonListener();\n}\n\nfunction buttonListener() {\n  const closeButton = document.querySelector('.js_button_close');\n  if (closeButton !== null) {\n    closeButton.addEventListener('click', closeInfoCard);\n  }\n}\n\nfunction closeInfoCard() {\n  favourite = {};\n  renderfavourite();\n  renderResults();\n}\n\nfunction resetResults() {\n  let html = '';\n  inputSearch.value = '';\n  inputSearch.placeholder = 'Busca a tu héroe';\n  heroes = [];\n  favouriteList.innerHTML = '';\n  html += `<div class=\"main__hero\">`;\n  html += `<img src=\"./assets/images/superhero.png\" alt=\"superheroe\" />`;\n  html += `<h4 class=\"display-6 text-center\"><em>Busca a tu héroe y haz clic en él para ver sus estadísticas</em>\n</h4>`;\n  html += `</div>`;\n  resultsList.innerHTML = html;\n}\n\nfunction handleClickSearch(event) {\n  event.preventDefault();\n  validateInput();\n}\n\nbuttonSearch.addEventListener('click', handleClickSearch);\nresetButton.addEventListener('click', resetResults);\n"]}