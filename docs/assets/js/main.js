"use strict";const inputSearch=document.querySelector(".js-input"),buttonSearch=document.querySelector(".js-button"),resultsList=document.querySelector(".js-listElements"),resetButton=document.querySelector(".js-reset"),favouriteList=document.querySelector(".js-favourite");let heroes=[],favourite={};function validateInput(){""===inputSearch.value?alert("Debes rellenar todos los campos"):getApiData()}function getApiData(){fetch("https://www.superheroapi.com/api.php/7559222877485453/search/"+inputSearch.value).then(e=>e.json()).then(e=>{heroes=e.results,renderResults()})}function renderResults(){let e="";if(void 0===heroes)e="nooooo";else for(const t of heroes)e+=`<div class="js-listresults  col-lg-3 col-md-3 col-xs-12" id="${t.id}">`,e+='<div class="card card_results">',e+=`<img class="card-img-top" src="${t.image.url}" alt="Superheroe profile pic"/>`,e+='<div class="card-body">',e+=`<p>${t.name}</p>`,e+="</div>",e+="</div>",e+="</div>";resultsList.innerHTML=e,cardListener()}function cardListener(){const e=document.querySelectorAll(".js-listresults");for(const t of e)t.addEventListener("click",addfavourite)}function addfavourite(e){const t=e.currentTarget.id,s=heroes.find(e=>e.id===t);favourite=s,renderfavourite(),renderResults()}function renderfavourite(){let e="";0!==Object.entries(favourite).length&&(window.scrollTo(0,0),e+='<div class="card">',e+='<div class="row g-0">',e+=`<div class="js-favourite_results col-md-4 col-xs-12" id="${favourite.id}">`,e+=`<img class="card_image" src="${favourite.image.url}" alt="Superheroe profile pic"/>`,e+="</div>",e+='<div class="col-md-8 col-xs-12 card_info">',e+=`<h2 class="display-5">${favourite.name}</h2>`,e+=`<h5>${favourite.biography["full-name"]}</h5>`,e+=`<p><em>${favourite.connections["group-affiliation"]}</em></p>`,e+='<ul class="list-group list-group-flush">',e+=`<li class="list-group-item d-flex justify-content-between align-items-center">Inteligencia<span class="badge rounded-pill text-bg-primary">${favourite.powerstats.intelligence}</span></li>`,e+=`<li class="list-group-item d-flex justify-content-between align-items-center">Fuerza<span class="badge rounded-pill text-bg-primary">${favourite.powerstats.strength}</span></li>`,e+=`<li class="list-group-item d-flex justify-content-between align-items-center">Velocidad<span class="badge rounded-pill text-bg-primary">${favourite.powerstats.speed}</span></li>`,e+=`<li class="list-group-item d-flex justify-content-between align-items-center">Durabilidad<span class="badge rounded-pill text-bg-primary">${favourite.powerstats.durability}</span></li>`,e+=`<li class="list-group-item d-flex justify-content-between align-items-center">Poder<span class="badge rounded-pill text-bg-primary">${favourite.powerstats.power}</span></li>`,e+=`<li class="list-group-item d-flex justify-content-between align-items-center">Combate<span class="badge rounded-pill text-bg-primary">${favourite.powerstats.combat}</span></li>`,e+="</ul>",e+='<button type="button" class="btn btn-primary button_close js_button_close">Cerrar</button>',e+="</div>",e+="</div>",e+="</div>"),favouriteList.innerHTML=e,buttonListener()}function buttonListener(){const e=document.querySelector(".js_button_close");null!==e&&e.addEventListener("click",closeInfoCard)}function closeInfoCard(){favourite={},renderfavourite(),renderResults()}function resetResults(){let e="";inputSearch.value="Busca a tu héroe",heroes=[],favouriteList.innerHTML="",e+='<div class="hero_main">',e+='<img src="./assets/images/superhero.png" alt="superheroe" />',e+='<h4 class="display-6 text-center"><em>Busca a tu héroe y haz clic en él para ver sus estadísticas</em>\n</h4>',e+="</div>",resultsList.innerHTML='<div class="hero_main"><img src="./assets/images/superhero.png" alt="superheroe" /><h4 class="display-6 text-center"><em>Busca a tu héroe y haz clic en él para ver sus estadísticas</em>\n</h4></div>'}function handleClickSearch(e){e.preventDefault(),validateInput()}buttonSearch.addEventListener("click",handleClickSearch),resetButton.addEventListener("click",resetResults);